\newcommand{\modelFig}[3]{
    \begin{tikzpicture}
        \node[func#3] (clock) {$\mathcal{G}_{ILCLOCK}$};
        \node[party, fill=red!75, right = 4cm of clock] (adversary) {Adversary};
        \node[party, fill=honestcolor,  below = 1.5cm of clock] (honest) {Honest};
        \node[func, below = 1.5cm of adversary#1#2] (crs) {$\mathcal{F}_{CRS}$};
        \node[func, below right = .25cm and 1cm of clock#1] (wrapper) {$\mathcal{W}(\mathcal{F}_{RO})$};

        \draw[arrow#3] ([yshift = .05cm]clock.east) -- ([yshift = .05cm]adversary.west);
        \draw[arrow, red!75#3] ([yshift = -.05cm]adversary.west) -- ([yshift = -.05cm]clock.east);
        \draw[arrow#3] ([xshift = .05cm]clock.south) -- ([xshift = .05cm]honest.north);
        \draw[arrow, honestcolor#3] ([xshift = -.05cm]honest.north) -- ([xshift = -.05cm]clock.south);

        \draw[arrow#1#3] ([xshift = -.06cm, yshift = -.01cm]wrapper.north east) -- ([xshift = -.1cm, yshift = .06cm]adversary.south west);
        \draw[arrow, red!75#1#3] (adversary.south west) -- ([yshift = -.1cm]wrapper.north east);

        \draw[arrow#1#3] ([xshift = .06cm, yshift = .01cm]wrapper.south west) -- ([xshift = .1cm, yshift = -.06cm]honest.north east);
        \draw[arrow, honestcolor#1#3] (honest.north east) -- ([yshift = .1cm]wrapper.south west);

        \draw[arrow#1#3] ([xshift = .1cm, yshift = .01cm]wrapper.north west) -- ([yshift = .05cm]clock.south east);
        \draw[arrow#1#3] ([xshift = -.1cm, yshift = -.01cm]clock.south east) -- ([yshift = -.05cm]wrapper.north west);

        \draw[arrow, honestcolor#1#2] (honest.east) -- (crs.west);
        \draw[arrow, red!75#1#2] (adversary.south) -- (crs.north);
        \draw[arrow#1#2] (crs.north west) -- (wrapper.south east);
    \end{tikzpicture}
}
